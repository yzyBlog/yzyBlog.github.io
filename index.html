<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.3" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.3">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.3" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta property="og:type" content="website">
<meta property="og:title" content="我的博客">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="我的博客">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="我的博客">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.3',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/"/>





  <title>我的博客</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">我的博客</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">一天进步一点</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/01/05/localStorage-sessionStorage/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zongyi Yin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/blog_photo.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="我的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/01/05/localStorage-sessionStorage/" itemprop="url">HTML 5 Web 存储</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-01-05T16:01:32+08:00">
                2018-01-05
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>在客户端存储数据<br>HTML 5 提供了两种在客户端存储数据的新方法:<br>localStorage - 没有时间限制的数据存储<br>sessionStorage - 针对一个 session 的数据存储<br>之前，这些都是由 cookie 完成的。但是 cookie 不适合大量数据的存储，因为它们由每个对服务器的请求来 传递，这使得 cookie 速度很慢而且效率也不高。<br>在 HTML 5 中，数据不是由每个服务器请求传递的，而是只有在请求时使用数据。它使在不影响网站性能的 情况下存储大量数据成为可能。<br>对于不同的网站，数据存储于不同的区域，并且一个网站只能访问其自身的数据。<br>HTML 5 使用 JavaScript 来存储和访问数据。</p>
<ul>
<li><p>localStorage 方法<br>localStorage 方法存储的数据没有时间限制。第二天、第二周或下一年之后，数据依然可用。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">&lt;!DOCTYPE HTML&gt;</div><div class="line">&lt;html&gt;</div><div class="line">&lt;body&gt;</div><div class="line">&lt;script type=&quot;text/javascript&quot;&gt; </div><div class="line">	if (localStorage.pagecount) &#123;</div><div class="line">		localStorage.pagecount=Number(localStorage.pagecount) +1; &#125;</div><div class="line">	else &#123;</div><div class="line">		localStorage.pagecount=1;</div><div class="line">	&#125;</div><div class="line">	document.write(&quot;Visits: &quot; + localStorage.pagecount + &quot; time(s).&quot;); </div><div class="line">&lt;/script&gt;</div><div class="line">&lt;p&gt;刷新页面会看到计数器在增长。&lt;/p&gt;</div><div class="line">&lt;p&gt;请关闭浏览器窗口，然后再试一次，计数器会继续计数。&lt;/p&gt; &lt;/body&gt;</div><div class="line">&lt;/html&gt;</div></pre></td></tr></table></figure>
</li>
<li><p>sessionStorage 方法<br>sessionStorage 方法针对一个 session 进行数据存储。当用户关闭浏览器窗口后，数据会被删除。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">&lt;!DOCTYPE HTML&gt;</div><div class="line">&lt;html&gt;</div><div class="line">&lt;body&gt;</div><div class="line">&lt;script type=&quot;text/javascript&quot;&gt; </div><div class="line">	if (sessionStorage.pagecount) &#123;</div><div class="line">		sessionStorage.pagecount=Number(sessionStorage.pagecount) +1; &#125;</div><div class="line">	else &#123;</div><div class="line">		sessionStorage.pagecount=1;</div><div class="line">	&#125;</div><div class="line">	document.write(&quot;Visits: &quot; + sessionStorage.pagecount + &quot; time(s).&quot;); </div><div class="line">&lt;/script&gt;</div><div class="line">&lt;p&gt;刷新页面会看到计数器在增长。&lt;/p&gt;</div><div class="line">&lt;p&gt;请关闭浏览器窗口，然后再试一次，计数器已经重置了。&lt;/p&gt;</div><div class="line">&lt;/html&gt;</div></pre></td></tr></table></figure></li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/01/04/animation/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zongyi Yin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/blog_photo.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="我的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/01/04/animation/" itemprop="url">动画相关实现</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-01-04T16:48:55+08:00">
                2018-01-04
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="一、animation-css"><a href="#一、animation-css" class="headerlink" title="一、animation.css"></a>一、animation.css</h2><h4 id="官网"><a href="#官网" class="headerlink" title="官网"></a>官网</h4><p><a href="https://daneden.github.io/animate.css/" target="_blank" rel="external">https://daneden.github.io/animate.css/</a></p>
<h4 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h4><p>animate.css是一个来自国外的CSS3动画库，它预设了抖动（shake）、闪烁（flash）、弹跳（bounce）、翻转（flip）、旋转（rotateIn/rotateOut）、淡入淡出（fadeIn/fadeOut）等多达60多种动画效果，几乎包含了所有常见的动画效果。</p>
<h4 id="兼容"><a href="#兼容" class="headerlink" title="兼容"></a>兼容</h4><p>浏览器兼容：当然是只兼容支持CSS3   animate属性的浏览器，他们分别是：IE10+、Firefox、Chrome、Opera、Safari。</p>
<h4 id="使用方法"><a href="#使用方法" class="headerlink" title="使用方法"></a>使用方法</h4><p>1、引入css<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&lt;head&gt;</div><div class="line">  &lt;link rel=&quot;stylesheet&quot;</div><div class="line">  href=&quot;https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css&quot;&gt;</div><div class="line">&lt;/head&gt;</div></pre></td></tr></table></figure></p>
<p>2、html<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;h1 class=&quot;animated infinite bounce&quot; id=&quot;dowebok&quot;&gt;Example&lt;/h1&gt;</div></pre></td></tr></table></figure></p>
<p>给元素加上 class 后，刷新页面，就能看到动画效果了。animated 类似于全局变量，它定义了动画的持续时间；bounce 是动画具体的动画效果的名称，你可以选择任意的效果。<br>如果动画是无限播放的，可以添加 class infinite。<br>你也可以通过 JavaScript或jQuery给元素添加这些class，比如：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$(function()&#123;</div><div class="line">    $(&apos;#dowebok&apos;).addClass(&apos;animated bounce&apos;);</div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<p>当动画效果执行完成后还可以通过以下代码添加事件<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$(&apos;#yourElement&apos;).one(&apos;webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend&apos;, doSomething);</div></pre></td></tr></table></figure></p>
<p>有些动画效果最后会让元素不可见，比如淡出、向左滑动等等，可能你又需要将 class 删除，比如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">$(function()&#123;</div><div class="line">    $(&apos;#dowebok&apos;).addClass(&apos;animated bounce&apos;);</div><div class="line">    setTimeout(function()&#123;</div><div class="line">        $(&apos;#dowebok&apos;).removeClass(&apos;bounce&apos;);</div><div class="line">    &#125;, 1000);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>animate.css 的默认设置也许有些时候并不是我们想要的，所以你可以重新设置，比如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">#dowebok &#123;</div><div class="line">    animate-duration: 2s;    //动画持续时间</div><div class="line">    animate-delay: 1s;    //动画延迟时间</div><div class="line">    animate-iteration-count: 2;    //动画执行次数</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>注意添加浏览器前缀。</p>
<hr>
<h2 id="二、velocity-js"><a href="#二、velocity-js" class="headerlink" title="二、velocity.js"></a>二、velocity.js</h2><h4 id="英文官网："><a href="#英文官网：" class="headerlink" title="英文官网："></a>英文官网：</h4><p><a href="http://velocityjs.org/" target="_blank" rel="external">http://velocityjs.org/</a></p>
<h4 id="中文文档："><a href="#中文文档：" class="headerlink" title="中文文档："></a>中文文档：</h4><p><a href="http://www.mrfront.com/docs/velocity.js/index.html" target="_blank" rel="external">http://www.mrfront.com/docs/velocity.js/index.html</a></p>
<h4 id="简介-1"><a href="#简介-1" class="headerlink" title="简介"></a>简介</h4><p>Velocity 是一个简单易用、高性能、功能丰富的轻量级JS动画库。它能和 jQuery 完美协作，并和$.animate()有相同的 API， 但它不依赖 jQuery，可单独使用。 Velocity 不仅包含了 $.animate() 的全部功能， 还拥有：颜色动画、转换动画(transforms)、循环、 缓动、SVG 动画、和 滚动动画 等特色功能。</p>
<p>它比 $.animate() 更快更流畅，性能甚至高于 CSS3 animation， 是 jQuery 和 CSS3 transition 的最佳组合，它支持所有现代浏览器，最低可兼容到 IE8 和 Android 2.3。</p>
<h4 id="使用方法-1"><a href="#使用方法-1" class="headerlink" title="使用方法"></a>使用方法</h4><p>1、引入js<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">&lt;body&gt;</div><div class="line">    &lt;!-- dom --&gt;</div><div class="line">    &lt;div class=&quot;element&quot;&gt;&lt;/div&gt;</div><div class="line"></div><div class="line">    &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.0/jquery.min.js&quot;&gt;&lt;/script&gt;</div><div class="line">    &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/velocity/1.5.0/velocity.min.js&quot;&gt;&lt;/script&gt;</div><div class="line">&lt;/body&gt;</div></pre></td></tr></table></figure></p>
<p>2、使用<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">// 标准写法</div><div class="line">// (为了简洁，后面的示例代码中 将直接使用 $element 来代替 jQuery 选择器)</div><div class="line">$(&quot;.element&quot;).velocity(&#123;</div><div class="line">    left: &quot;200px&quot;</div><div class="line">&#125;, &#123;</div><div class="line">    duration: 450,</div><div class="line">    delay: 1000</div><div class="line">&#125;);</div><div class="line"></div><div class="line">// $.animate() 的写法，效果同上</div><div class="line">$(&quot;.element&quot;).delay(1000).velocity(&#123;left: &quot;200px&quot;&#125;, 450);</div></pre></td></tr></table></figure></p>
<h4 id="velocity-js基础用法"><a href="#velocity-js基础用法" class="headerlink" title="velocity.js基础用法"></a>velocity.js基础用法</h4><p>Velocity.js 可以在不引入 jQuery 的情况下单独使用。如果 你需要大部分动画效果能兼容 IE8，就必须引入 jQuery 1×。 它也可以和 Zepto 一起使用，写法和 jQuery 一样：<br>注意：使用 jQuery 时，必须在 Velocity 之前加载 jQuery<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">// 无 jQuery 或 Zepto 时，Velocity()方法挂载在 window 对象上 (window.velocity)</div><div class="line">// ( 第一个参数为原生js的dom选择器 )</div><div class="line">Velocity(document.getElementById(&quot;dummy&quot;), &#123;</div><div class="line">    opacity: 0.5</div><div class="line">&#125;, &#123;</div><div class="line">    duration: 1000</div><div class="line">&#125;);</div><div class="line"></div><div class="line">// 使用 jQuery 或 Zepto 时</div><div class="line">$(&quot;#dummy&quot;).velocity(&#123;</div><div class="line">    opacity: 0.5</div><div class="line">&#125;, &#123;</div><div class="line">    duration: 1000</div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<h4 id="velocity-js参数"><a href="#velocity-js参数" class="headerlink" title="velocity.js参数"></a>velocity.js参数</h4><h5 id="参数概述和基础写法："><a href="#参数概述和基础写法：" class="headerlink" title="参数概述和基础写法："></a>参数概述和基础写法：</h5><p>Velocity 接收一组 css 属性键值对 (css map) 作为它的第一个参数，该参数作为动画效果的最终属性。第二个参数是可选参数 为动画的额外配置项。下面为参数的写法：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">$element.velocity(&#123;</div><div class="line">    width: &quot;500px&quot;,        // 动画属性 宽度到 &quot;500px&quot; 的动画</div><div class="line">    property2: value2      // 属性示例</div><div class="line">&#125;, &#123;</div><div class="line">    /* Velocity 动画配置项的默认值 */</div><div class="line">    duration: 400,         // 动画执行时间</div><div class="line">    easing: &quot;swing&quot;,       // 缓动效果</div><div class="line">    queue: &quot;&quot;,             // 队列</div><div class="line">    begin: undefined,      // 动画开始时的回调函数</div><div class="line">    progress: undefined,   // 动画执行中的回调函数（该函数会随着动画执行被不断触发）</div><div class="line">    complete: undefined,   // 动画结束时的回调函数</div><div class="line">    display: undefined,    // 动画结束时设置元素的 css display 属性</div><div class="line">    visibility: undefined, // 动画结束时设置元素的 css visibility 属性</div><div class="line">    loop: false,           // 循环</div><div class="line">    delay: false,          // 延迟</div><div class="line">    mobileHA: true         // 移动端硬件加速（默认开启）</div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<h5 id="单一对象的参数写法："><a href="#单一对象的参数写法：" class="headerlink" title="单一对象的参数写法："></a>单一对象的参数写法：</h5><p>Velocity 也支持 single-argument 的语法，看下面示例：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">$element.velocity(&#123;</div><div class="line">    properties: &#123; opacity: 1 &#125;,</div><div class="line">    options: &#123; duration: 500 &#125;</div><div class="line">&#125;);</div><div class="line"></div><div class="line">// 或者：</div><div class="line">$element.velocity(&#123;</div><div class="line">    p: &#123; opacity: 1 &#125;, // 可以将 properties 简写成 p</div><div class="line">    o: &#123; duration: 500 &#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<h5 id="逗号分割的参数写法（类似-animate）："><a href="#逗号分割的参数写法（类似-animate）：" class="headerlink" title="逗号分割的参数写法（类似 $.animate）："></a>逗号分割的参数写法（类似 $.animate）：</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">$element.velocity(&#123; top: 50 &#125;, 1000);</div><div class="line">$element.velocity(&#123; top: 50 &#125;, 1000, &quot;swing&quot;);</div><div class="line">$element.velocity(&#123; top: 50 &#125;, &quot;swing&quot;);</div><div class="line">$element.velocity(&#123; top: 50 &#125;, 1000, function() &#123; alert(&quot;Hi&quot;); &#125;);</div></pre></td></tr></table></figure>
<h4 id="Properties-Map-动画属性"><a href="#Properties-Map-动画属性" class="headerlink" title="Properties Map 动画属性"></a>Properties Map 动画属性</h4><p>如果不写属性值的单位, Velocity 会将像素(px)作为默认单位<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">// 等同 padding: 1px</div><div class="line">$element.velocity(&#123; padding: 1 &#125;);</div><div class="line"></div><div class="line">// 等同 padding-left: 1px, padding-right: 1px</div><div class="line">$element.velocity(&#123;</div><div class="line">    paddingLeft: 1,</div><div class="line">    paddingRight: 1</div><div class="line">&#125;);</div><div class="line"></div><div class="line">// 但你不能这样写！因为这样相当于为 padding 赋了多个值</div><div class="line">$element.velocity(&#123; padding: &quot;1 1 1 1&quot; &#125;); // error</div></pre></td></tr></table></figure></p>
<p>Velocity 在 1.2.0+ 版本里增加了对 “px, em, rem, %, deg, vw/vh” 这些单位的支持， 如果不填写属性单位 默认单位还是”px”，但 “deg” 用于 rotateZ 属性时可以省略不写。 Velocity 还支持动态计算属性值，包括 “+, -, *, /“，还可以设置元素在动画执行前的初始值，看下面示例：<br>( 注意：”rem” 只支持 IE9+，”vh/vw” 只支持 IE9+ 和 Android 4.4+ )<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">$element.velocity(&#123;</div><div class="line">    top: 50,                // 等同于 &quot;50px&quot;</div><div class="line">    left: &quot;50%&quot;,</div><div class="line">    width: &quot;+=5rem&quot;,        // 每次在当前值上叠加 5rem</div><div class="line">    height: &quot;*=2&quot;           // 每次在当前值上叠乘 2</div><div class="line">    color: [&quot;#888&quot;, &quot;#000&quot;] // 每次动画执行前，color 的初始值都为&quot;#000&quot;（从&quot;#000&quot;过渡成&quot;#888&quot;）</div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<h4 id="Chaining-链式动画"><a href="#Chaining-链式动画" class="headerlink" title="Chaining 链式动画"></a>Chaining 链式动画</h4><p>当一个元素连续应用多个velocity()时，动画将以队列的方式执行：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">$element</div><div class="line">    /* 先执行宽度变为75px的动画 */</div><div class="line">    .velocity(&#123; width: 75 &#125;)</div><div class="line">    /* 等前面的宽度动画结束后，再执行高度变为0的动画 */</div><div class="line">    .velocity(&#123; height: 0 &#125;);</div></pre></td></tr></table></figure></p>
<hr>
<h2 id="三、根据ui给的帧图实现动画"><a href="#三、根据ui给的帧图实现动画" class="headerlink" title="三、根据ui给的帧图实现动画"></a>三、根据ui给的帧图实现动画</h2><h4 id="1-steps"><a href="#1-steps" class="headerlink" title="1.steps"></a>1.steps</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line">&lt;!doctype html&gt;</div><div class="line">&lt;html&gt;</div><div class="line">&lt;head&gt;</div><div class="line">&lt;meta charset=&quot;utf-8&quot;&gt;</div><div class="line">&lt;title&gt;steps&lt;/title&gt;</div><div class="line">&lt;/head&gt;</div><div class="line">&lt;style type=&quot;text/css&quot;&gt;</div><div class="line">    body&#123;</div><div class="line">        background: black;</div><div class="line">    &#125;</div><div class="line">    #sprite&#123;</div><div class="line">        width: 286px;</div><div class="line">        height: 407px;</div><div class="line">        margin: 40px auto 0;</div><div class="line">        background: url(http://pic01.babytreeimg.com/foto3/common_photo/original/2018/0103/58eeb92e97111159.png) no-repeat;</div><div class="line">        -webkit-animation: m4 2s infinite steps(50,end);</div><div class="line">        animation: m4 2s infinite steps(50,end);</div><div class="line">    &#125;</div><div class="line">    @-webkit-keyframes m4&#123;</div><div class="line">        from&#123;background-position: 0;&#125;</div><div class="line">        to &#123;background-position: -14300px;&#125;</div><div class="line">    &#125;</div><div class="line">&lt;/style&gt;</div><div class="line">&lt;body&gt;</div><div class="line">    &lt;div id=&quot;sprite&quot;&gt;</div><div class="line">        </div><div class="line">    &lt;/div&gt;</div><div class="line">&lt;/body&gt;</div><div class="line">&lt;/html&gt;</div></pre></td></tr></table></figure>
<h4 id="2-keyframes"><a href="#2-keyframes" class="headerlink" title="2.keyframes"></a>2.keyframes</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div></pre></td><td class="code"><pre><div class="line">&lt;!doctype html&gt;</div><div class="line">&lt;html&gt;</div><div class="line">&lt;head&gt;</div><div class="line">&lt;meta charset=&quot;utf-8&quot;&gt;</div><div class="line">&lt;title&gt;steps&lt;/title&gt;</div><div class="line">&lt;/head&gt;</div><div class="line">&lt;style type=&quot;text/css&quot;&gt;</div><div class="line">    #sprite&#123;</div><div class="line">        width: 260px;</div><div class="line">		    height: 470px;</div><div class="line">        margin: 40px auto 0;</div><div class="line">        background: url(http://pic01.babytreeimg.com/foto3/common_photo/original/2018/0103/a758ccfc97118028.png) no-repeat;</div><div class="line">        animation: pop 1s step-end infinite;</div><div class="line">    	-webkit-animation: pop 1s step-end infinite;</div><div class="line">    &#125;</div><div class="line">    @keyframes pop &#123;</div><div class="line">	    0%,</div><div class="line">	    6.8% &#123;</div><div class="line">	        background-position: -5px -5px; </div><div class="line">	    &#125;</div><div class="line">	    7.8%,</div><div class="line">	    14.6% &#123;</div><div class="line">	        background-position: -275px -5px; </div><div class="line">	    &#125;</div><div class="line">	   </div><div class="line">	    15.6%,</div><div class="line">	    22.4% &#123;</div><div class="line">	        background-position: -545px -5px; </div><div class="line">	    &#125;</div><div class="line">	    23.4%,</div><div class="line">	    30.2% &#123;</div><div class="line">	        background-position: -815px -5px;</div><div class="line">	    &#125;</div><div class="line">	    31.2%,</div><div class="line">	    38% &#123;</div><div class="line">	        background-position: -5px -485px; </div><div class="line">	    &#125;</div><div class="line">	    39%,</div><div class="line">	    45.8% &#123;</div><div class="line">	        background-position: -275px -485px;</div><div class="line">	    &#125;</div><div class="line">	    46.8%,</div><div class="line">	    53.6% &#123;</div><div class="line">	        background-position: -545px -485px; </div><div class="line">	    &#125;</div><div class="line">	    54.6%,</div><div class="line">	    61.4% &#123;</div><div class="line">	    	background-position: -815px -485px; </div><div class="line">	    &#125;</div><div class="line">	    62.4%,</div><div class="line">	    69.2% &#123;</div><div class="line">	        background-position: -1085px -485px; </div><div class="line">	    &#125;</div><div class="line">	    70.2%,</div><div class="line">	    77% &#123;</div><div class="line">	        background-position: -5px -965px;  </div><div class="line">	    &#125;</div><div class="line">	    78%,</div><div class="line">	    84.8% &#123;</div><div class="line">	        background-position: -275px -965px; </div><div class="line">	    &#125;</div><div class="line">	    85.8%,</div><div class="line">	    92.6% &#123;</div><div class="line">	        background-position: -545px -965px; </div><div class="line">	    &#125;</div><div class="line">	    93.6%,</div><div class="line">	    100% &#123;</div><div class="line">	    	background-position: -5px -965px;  </div><div class="line">	    &#125;</div><div class="line">	&#125;</div><div class="line">	@-webkit-keyframes pop &#123;</div><div class="line">	    0%,</div><div class="line">	    6.8% &#123;</div><div class="line">	        background-position: -5px -5px; </div><div class="line">	    &#125;</div><div class="line">	    7.8%,</div><div class="line">	    14.6% &#123;</div><div class="line">	        background-position: -275px -5px; </div><div class="line">	    &#125;</div><div class="line">	   </div><div class="line">	    15.6%,</div><div class="line">	    22.4% &#123;</div><div class="line">	        background-position: -545px -5px; </div><div class="line">	    &#125;</div><div class="line">	    23.4%,</div><div class="line">	    30.2% &#123;</div><div class="line">	        background-position: -815px -5px;</div><div class="line">	    &#125;</div><div class="line">	    31.2%,</div><div class="line">	    38% &#123;</div><div class="line">	        background-position: -5px -485px; </div><div class="line">	    &#125;</div><div class="line">	    39%,</div><div class="line">	    45.8% &#123;</div><div class="line">	        background-position: -275px -485px;</div><div class="line">	    &#125;</div><div class="line">	    46.8%,</div><div class="line">	    53.6% &#123;</div><div class="line">	        background-position: -545px -485px; </div><div class="line">	    &#125;</div><div class="line">	    54.6%,</div><div class="line">	    61.4% &#123;</div><div class="line">	    	background-position: -815px -485px; </div><div class="line">	    &#125;</div><div class="line">	    62.4%,</div><div class="line">	    69.2% &#123;</div><div class="line">	        background-position: -1085px -485px; </div><div class="line">	    &#125;</div><div class="line">	    70.2%,</div><div class="line">	    77% &#123;</div><div class="line">	        background-position: -5px -965px;  </div><div class="line">	    &#125;</div><div class="line">	    78%,</div><div class="line">	    84.8% &#123;</div><div class="line">	        background-position: -275px -965px; </div><div class="line">	    &#125;</div><div class="line">	    85.8%,</div><div class="line">	    92.6% &#123;</div><div class="line">	        background-position: -545px -965px; </div><div class="line">	    &#125;</div><div class="line">	    93.6%,</div><div class="line">	    100% &#123;</div><div class="line">	    	background-position: -5px -965px;  </div><div class="line">	    &#125;</div><div class="line">	&#125;</div><div class="line">&lt;/style&gt;</div><div class="line">&lt;body&gt;</div><div class="line">    &lt;div id=&quot;sprite&quot;&gt;</div><div class="line">        </div><div class="line">    &lt;/div&gt;</div><div class="line">&lt;/body&gt;</div><div class="line">&lt;/html&gt;</div></pre></td></tr></table></figure>
<h4 id="3-JS"><a href="#3-JS" class="headerlink" title="3.JS"></a>3.JS</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div></pre></td><td class="code"><pre><div class="line">&lt;!DOCTYPE html&gt;</div><div class="line">&lt;html lang=&quot;en&quot;&gt;</div><div class="line">&lt;head&gt;</div><div class="line">	&lt;meta charset=&quot;UTF-8&quot;&gt;</div><div class="line">	&lt;title&gt;js&lt;/title&gt;</div><div class="line">	&lt;style type=&quot;text/css&quot;&gt;</div><div class="line">	#sprite&#123;</div><div class="line">		width: 130px;</div><div class="line">		height: 235px;</div><div class="line">	&#125;</div><div class="line">&lt;/style&gt;</div><div class="line">&lt;/head&gt;</div><div class="line">&lt;body&gt;</div><div class="line">	&lt;div id=&quot;sprite&quot;&gt;&lt;/div&gt;</div><div class="line">&lt;/body&gt;</div><div class="line">&lt;script type=&quot;text/javascript&quot;&gt;</div><div class="line">function animation(ele, positions, imgUrl)&#123;</div><div class="line">	ele.style.backgroundImage = &quot;url(&quot; + imgUrl +&quot;)&quot;;</div><div class="line">	ele.style.backgroundSize = &quot;675px 720px&quot;;</div><div class="line">	ele.style.backgroundRepeat = &quot;no-repeat&quot;;</div><div class="line">	</div><div class="line">	var index = 0;</div><div class="line">	</div><div class="line">	function run()&#123;</div><div class="line">		var position = positions[index].split(&quot; &quot;);</div><div class="line">		ele.style.backgroundPosition = position[0] + &quot;px &quot; + position[1] + &quot;px&quot;;</div><div class="line">		index++;</div><div class="line">		if(index &gt;= positions.length) &#123;</div><div class="line">			index = 0;</div><div class="line">		&#125;</div><div class="line">		setTimeout(run, 80);</div><div class="line">	&#125;</div><div class="line">	</div><div class="line">	run();</div><div class="line">&#125;</div><div class="line"></div><div class="line">var imgUrl = &quot;http://pic01.babytreeimg.com/foto3/common_photo/original/2018/0103/a758ccfc97118028.png&quot;;</div><div class="line">var positions = [&quot;-2.5 -2.5&quot;,&quot;-137.5 -2.5&quot;,&quot;-272.5 -2.5&quot;,&quot;-407.5 -2.5&quot;,&quot;-2.5 -242.5&quot;,&quot;-137.5 -242.5&quot;,&quot;-272.5 -242.5&quot;,&quot;-407.5 -242.5&quot;,&quot;-542.5 -242.5&quot;,</div><div class="line">&quot;-2.5 -482.5&quot;,&quot;-137.5 -482.5&quot;,&quot;-272.5 -482.5&quot;];</div><div class="line">var ele = document.getElementById(&quot;sprite&quot;);</div><div class="line">animation(ele, positions, imgUrl);</div><div class="line"></div><div class="line">&lt;/script&gt;</div><div class="line">&lt;/html&gt;</div></pre></td></tr></table></figure>
<h4 id="4-jquery-animateSprite-js"><a href="#4-jquery-animateSprite-js" class="headerlink" title="4.jquery.animateSprite.js"></a>4.jquery.animateSprite.js</h4><h5 id="github地址："><a href="#github地址：" class="headerlink" title="github地址："></a>github地址：</h5><p><a href="https://github.com/blaiprat/jquery.animateSprite" target="_blank" rel="external">https://github.com/blaiprat/jquery.animateSprite</a></p>
<h5 id="使用方法-2"><a href="#使用方法-2" class="headerlink" title="使用方法"></a>使用方法</h5><p>使用该插件需要引入jQuery和jquery.animateSprite.js文件。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&lt;script src=&quot;js/jquery.min.js&quot;&gt;&lt;/script&gt;</div><div class="line">&lt;script src=&quot;js/jquery.animateSprite.js&quot;&gt;&lt;/script&gt;</div></pre></td></tr></table></figure></p>
<h5 id="HTML结构"><a href="#HTML结构" class="headerlink" title="HTML结构"></a>HTML结构</h5><p>可以使用一个<div>元素来作为雪碧图的容器。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;div class=&quot;animation animation-2&quot;&gt;&lt;/div&gt;</div></pre></td></tr></table></figure></div></p>
<h5 id="CSS样式"><a href="#CSS样式" class="headerlink" title="CSS样式"></a>CSS样式</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">.animation-2 &#123;</div><div class="line">    background: url(../img/ramonaflowers_multiple.png);</div><div class="line">    width: 125px;</div><div class="line">    height: 157px;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h5 id="初始化插件"><a href="#初始化插件" class="headerlink" title="初始化插件"></a>初始化插件</h5><p>在页面DOM元素加载完毕之后，可以通过下面的方法来初始化该jQuery插件。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">$(&apos;.animation&apos;).animateSprite(&#123;</div><div class="line">    fps: 12,</div><div class="line">    loop: true,</div><div class="line">    animations: &#123;</div><div class="line">        walk: [0, 1, 2, 3, 4, 5, 6, 7, 8],</div><div class="line">        run: [14, 13, 12, 11, 10, 9]</div><div class="line">    &#125;,</div><div class="line">    complete: function()&#123;</div><div class="line">        alert(&apos;Sprite animation complete!&apos;);</div><div class="line">    &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure></p>
<h5 id="配置参数"><a href="#配置参数" class="headerlink" title="配置参数"></a>配置参数</h5><ul>
<li>columns：雪碧图分为多少列，默认为10。</li>
<li>fps：定义动画的速度。</li>
<li>duration：动画的持续时间，单位毫秒。</li>
<li>complete：动画执行完毕之后的回调函数。（如果是无限循环动画不会被调用）</li>
<li>loop：是否是无限循环动画</li>
<li>autoplay：是否自动播放。</li>
<li>animations：包含多个动画的键值对对象。键是动画的名称，值是一个包含帧的数组。<h5 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h5></li>
<li><p>play：播放指定的动画。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$(&apos;object&apos;).animateSprite(&apos;play&apos;, &apos;animation name&apos;)</div></pre></td></tr></table></figure>
</li>
<li><p>stop：停止播放指定的动画。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$(&apos;object&apos;).animateSprite(&apos;stop&apos;)</div></pre></td></tr></table></figure>
</li>
<li><p>resume：恢复动画的播放。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$(&apos;object&apos;).animateSprite(&apos;resume&apos;)</div></pre></td></tr></table></figure>
</li>
<li><p>restart：重新开始播放动画。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$(&apos;object&apos;).animateSprite(&apos;restart&apos;)</div></pre></td></tr></table></figure>
</li>
<li><p>frame：播放第n帧动画。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$(&apos;object&apos;).animateSprite(&apos;frame&apos;, n)</div></pre></td></tr></table></figure>
</li>
<li><p>fps：将动画的速度调整为n帧每秒。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$(&apos;object&apos;).animateSprite(&apos;fps&apos;, n)</div></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="demo"><a href="#demo" class="headerlink" title="demo"></a>demo</h2><p><a href="http://www.htmleaf.com/Demo/201604033295.html" target="_blank" rel="external">http://www.htmleaf.com/Demo/201604033295.html</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/12/27/lazyload/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zongyi Yin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/blog_photo.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="我的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/12/27/lazyload/" itemprop="url">图片懒加载</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-12-27T11:01:32+08:00">
                2017-12-27
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="图片懒加载"><a href="#图片懒加载" class="headerlink" title="图片懒加载"></a>图片懒加载</h4><p>1.jqueryLazyload<br>下载地址：<a href="https://github.com/helijun/helijun/blob/master/plugin/lazyLoad/jquery.lazyload.js" target="_blank" rel="external">https://github.com/helijun/helijun/blob/master/plugin/lazyLoad/jquery.lazyload.js</a></p>
<h5 id="html"><a href="#html" class="headerlink" title="html"></a>html</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&lt;section class=&quot;module-section&quot; id=&quot;container&quot;&gt;</div><div class="line">     &lt;img class=&quot;lazy-load&quot; data-original=&quot;lazy_load.jpg&quot; width=&quot;640&quot; height=&quot;480&quot; alt=&quot;测试懒加载图片&quot;/&gt;</div><div class="line">&lt;/section&gt;</div></pre></td></tr></table></figure>
<h5 id="javascript"><a href="#javascript" class="headerlink" title="javascript"></a>javascript</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">&lt;script src=&quot;jquery.min.js&quot;&gt;&lt;/script&gt;</div><div class="line">&lt;script src=&quot;jquery.lazyload.js&quot;&gt;&lt;/script&gt;</div><div class="line">&lt;script&gt;</div><div class="line">    $(&quot;img.lazy-load&quot;).lazyload(&#123; </div><div class="line">    effect : &quot;fadeIn&quot;, //渐现，show(直接显示),fadeIn(淡入),slideDown(下拉)</div><div class="line">　　threshold : 180, //预加载，在图片距离屏幕180px时提前载入</div><div class="line">　　event: &apos;click&apos;,  //事件触发时才加载，click(点击),mouseover(鼠标划过),sporty(运动的),默认为scroll（滑动）</div><div class="line">　　container: $(&quot;#container&quot;), // 指定对某容器中的图片实现效果</div><div class="line">　　failure_limit：2 //加载2张可见区域外的图片,lazyload默认在找到第一张不在可见区域里的图片时则不再继续加载,但当HTML容器混乱的时候可能出现可见区域内图片并没加载出来的情况</div><div class="line">&#125;);</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>
<p>2.echo.js<br>下载地址：<a href="https://github.com/helijun/helijun/tree/master/plugin/echo" target="_blank" rel="external">https://github.com/helijun/helijun/tree/master/plugin/echo</a></p>
<h5 id="css"><a href="#css" class="headerlink" title="css"></a>css</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">&lt;style&gt;</div><div class="line">　　.demo img &#123; </div><div class="line">　　　　width: 736px; </div><div class="line">　　　　height: 490px; </div><div class="line">　　　　background: url(images/loading.gif) 50% no-repeat;</div><div class="line">　　&#125;</div><div class="line">&lt;/style&gt;</div></pre></td></tr></table></figure>
<h5 id="html-1"><a href="#html-1" class="headerlink" title="html"></a>html</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&lt;div class=&quot;demo&quot;&gt;</div><div class="line">    &lt;img class=&quot;lazy&quot; src=&quot;images/blank.gif&quot; data-echo=&quot;images/big-1.jpg&quot;&gt;</div><div class="line">&lt;/div&gt;</div></pre></td></tr></table></figure>
<h5 id="js"><a href="#js" class="headerlink" title="js"></a>js</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">&lt;script src=&quot;js/echo.min.js&quot;&gt;&lt;/script&gt;</div><div class="line">&lt;script&gt;</div><div class="line">  Echo.init(&#123;</div><div class="line">    offset: 0,//离可视区域多少像素的图片可以被加载</div><div class="line">    throttle: 0 //图片延时多少毫秒加载</div><div class="line">  &#125;); </div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/12/08/vue-router-js/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zongyi Yin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/blog_photo.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="我的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/12/08/vue-router-js/" itemprop="url">vue-router.js</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-12-08T01:51:27+08:00">
                2017-12-08
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="对地址变更的监听"><a href="#对地址变更的监听" class="headerlink" title="对地址变更的监听"></a>对地址变更的监听</h3><p>对于 <code>HashHistory</code> 模式（也就是基于页面地址的 hash 部分来实现路由功能，如 <code>http://example.com/path#/foo</code>、<code>http://example.com/path#/bar</code>），是通过监听 <code>hashChange</code> 事件来实现：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">//2258</div><div class="line">window.addEventListener(supportsPushState ? &apos;popstate&apos; : &apos;hashchange&apos;, function () &#123;</div><div class="line"></div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p>这个是在 router.init()（源码2503 <code>history.setupListeners();</code>）中调用的，而 router.init() 则是在根组件创建时（源码546 <code>this._router.init(this);</code>）调用的。<br>router.init()调用,通过 Vue.mixin() 注册了一个 beforeCreate() 钩子函数，从而在之后所有的 Vue 组件创建时都会调用该钩子函数，检查是否有 router 参数，从而进行初始化的机会。进而通过层层调用执行了监听 hashchange 事件的动作。</p>
<h3 id="地址变更通知到-vm"><a href="#地址变更通知到-vm" class="headerlink" title="地址变更通知到 vm"></a>地址变更通知到 vm</h3><p>这个过程是hashchange 时，执行（源码2507） history.transitionTo(…)，在这个过程中，会进行地址匹配，得到一个对应当前地址的 route，然后将其设置到对应的 vm._route 上。</p>
<p>###地址变更同步到视图更新<br>vm._route 已经接收到路由的变更，从而触发视图更新。而当视图更新进一步调用到 <code>&lt;router-view&gt;</code> 的 render() 时，即进入了<code>&lt;router-view&gt;</code>的处理（源码39）</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/12/01/vue-router/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zongyi Yin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/blog_photo.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="我的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/12/01/vue-router/" itemprop="url">vue-router用法demo</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-12-01T11:01:32+08:00">
                2017-12-01
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="HTML"><a href="#HTML" class="headerlink" title="HTML"></a>HTML</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line">&lt;div id=&quot;app&quot;&gt;</div><div class="line">	&lt;h1&gt;Hello Everyone!&lt;/h1&gt;</div><div class="line">	&lt;!-- 路由出口 --&gt;</div><div class="line">	&lt;!-- 路由匹配到的组件将渲染在这里 --&gt;</div><div class="line">	&lt;!-- 还可以配合&lt;keep-alive&gt;使用，keep-alive可以缓存数据，这样不至于重新渲染路</div><div class="line">	由组件的时候，之前那个路由组件的数据被清除了。比如对当前的路由组件a进行了一些DOM</div><div class="line">	操作之后，点击进入另一个路由组件b，再回到路由组件a的时候之前的DOM操作还保存在，如</div><div class="line">	果不加keep-alive再回到路由组件a时，之前的DOM操作就没有了，得重新进行。如果你的应</div><div class="line">	用里有一个购物车组件，就需要用到keep-alive。 --&gt;</div><div class="line">	&lt;router-view&gt;&lt;/router-view&gt;</div><div class="line">	&lt;p&gt;</div><div class="line">  	&lt;!-- 使用 router-link 组件来导航. --&gt;</div><div class="line">    &lt;!-- 通过传入 `to` 属性指定链接. --&gt;</div><div class="line">    &lt;!-- to:这是一个必须设置的属性，否则路由无法生效。它表示路由的链接，可以是一个</div><div class="line">    字符串也可以是一个描述目标位置的对象。 --&gt;</div><div class="line">    &lt;!-- &lt;router-link&gt; 默认会被渲染成一个 `&lt;a&gt;` 标签 --&gt;</div><div class="line">		&lt;!-- tag:router-link默认渲染成a标签，也有方法让它渲染成其他标签，tag属性就</div><div class="line">		用来设置router-link渲染成什么标签的。 --&gt;</div><div class="line">		&lt;!-- replace:一个布尔类型，默认为false。如果replace设置为true，那么导航不</div><div class="line">		会留下history记录，点击浏览器回退按钮不会再回到这个路由。 跟 router.push 很</div><div class="line">		像，唯一的不同就是，它不会向 history 添加新记录，而是跟它的方法名一样 —— 替换</div><div class="line">		掉当前的 history 记录。--&gt;</div><div class="line">    &lt;!-- 注意：被选中的router-link将自动添加一个class属性值.router-link-active。 --&gt;</div><div class="line">		&lt;router-link to=&quot;/foo&quot;&gt;Go to Foo&lt;/router-link&gt;</div><div class="line">    &lt;router-link to=&quot;/bar&quot; replace&gt;Go to Bar&lt;/router-link&gt;</div><div class="line">	&lt;/p&gt;	</div><div class="line">&lt;/div&gt;</div></pre></td></tr></table></figure>
<h4 id="JavaScript"><a href="#JavaScript" class="headerlink" title="JavaScript"></a>JavaScript</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div></pre></td><td class="code"><pre><div class="line">&lt;script src=&quot;https://unpkg.com/vue/dist/vue.js&quot;&gt;&lt;/script&gt;</div><div class="line">&lt;script src=&quot;https://unpkg.com/vue-router/dist/vue-router.js&quot;&gt;&lt;/script&gt;</div><div class="line">&lt;script type=&quot;text/javascript&quot;&gt;</div><div class="line">	// 0. 如果使用模块化机制编程，導入Vue和VueRouter，要调用 Vue.use(VueRouter)</div><div class="line">	// import Vue from &apos;vue&apos;</div><div class="line">	// import VueRouter from &apos;vue-router&apos;</div><div class="line">	// Vue.use(VueRouter)</div><div class="line"></div><div class="line">	// 1. 定义（路由）组件。</div><div class="line">	// 可以从其他文件 import 进来</div><div class="line">	const Foo = &#123; </div><div class="line">					template : &apos;&lt;div&gt;bar&lt;/div&gt;&apos;</div><div class="line">				&#125;</div><div class="line">	const Bar = &#123; template: `</div><div class="line">				&lt;div&gt;</div><div class="line">					&lt;h1&gt;个人中心&lt;/h1&gt;</div><div class="line">					&lt;router-view&gt;&lt;/router-view&gt;</div><div class="line">					&lt;router-link to=&quot;/bar/zs&quot;&gt;登录&lt;/router-link&gt;</div><div class="line">				&lt;/div&gt;</div><div class="line">				` &#125;</div><div class="line"></div><div class="line">	// 2. 定义路由</div><div class="line">	// 每个路由应该映射一个组件。 其中&quot;component&quot; 可以是</div><div class="line">	// 通过 Vue.extend() 创建的组件构造器，</div><div class="line">	// 或者，只是一个组件配置对象。</div><div class="line">	const routes = [</div><div class="line">	  	&#123; </div><div class="line">	  		path: &apos;/foo&apos;, component: Foo</div><div class="line"></div><div class="line">		&#125;,</div><div class="line">	  	&#123; </div><div class="line">	  		path: &apos;/bar&apos;, component: Bar,</div><div class="line">	  		children : </div><div class="line">	  		[&#123; //children 配置自路由</div><div class="line">				path : &quot;zs&quot;,</div><div class="line">				component : &#123;</div><div class="line">					template : &quot;&lt;h4&gt; 张三登录&lt;/h4&gt;&quot;</div><div class="line">				&#125;</div><div class="line">			&#125;] </div><div class="line">		&#125;</div><div class="line">	]</div><div class="line"></div><div class="line">	// 3. 创建 router 实例，然后传 `routes` 配置</div><div class="line">	// 你还可以传别的配置参数, 不过先这么简单着吧。</div><div class="line">	const router = new VueRouter(&#123;</div><div class="line">		routes // （缩写）相当于 routes: routes</div><div class="line">	&#125;)</div><div class="line"></div><div class="line">	// 4. 创建和挂载根实例。</div><div class="line">	// 记得要通过 router 配置参数注入路由，</div><div class="line">	// 从而让整个应用都有路由功能</div><div class="line">	const app = new Vue(&#123;</div><div class="line">		router</div><div class="line">	&#125;).$mount(&apos;#app&apos;)</div><div class="line"></div><div class="line">	// 现在，应用已经启动了！</div><div class="line">	// 总结下：我们创建一个router，传入的routes中的每一项即为一条路由（route）配置，</div><div class="line">	表示在匹配给定的地址时，应该使用什么组件渲染视图。地址显示不同的内容。当然，</div><div class="line">	这还需要在组件模板中使用 &lt;router-view&gt; 来定义区域。</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/11/06/hello-world/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zongyi Yin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/blog_photo.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="我的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/11/06/hello-world/" itemprop="url">Hello World</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-11-06T09:43:02+08:00">
                2017-11-06
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Welcome to <a href="https://hexo.io/" target="_blank" rel="external">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="external">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="external">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="external">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo new <span class="string">"My New Post"</span></div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="external">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo server</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="external">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo generate</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="external">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo deploy</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="external">Deployment</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/11/04/vim/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zongyi Yin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/blog_photo.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="我的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/11/04/vim/" itemprop="url">vim常用命令总结</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-11-04T19:48:55+08:00">
                2017-11-04
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>打开文件 vim xxxx(文件名)   vim index.js<br>保存  :w<br>退出 :q<br>保存退出 :wq<br>强制退出    :q!</p>
<hr>
<p>###1.删除字符 x<br>要删除一个字符，只需要将光标移到该字符上按下“x”。</p>
<p>###2.删除一行 dd<br>删除一整行内容使用“dd”命令。删除后下面的行会移上来填补空缺。</p>
<p>###3.删除换行符 J<br>在vim中你可以把两行合并为一行，也就是说两行之间的换行符被删除了。命令是”J”。</p>
<p>###4.撤销 u<br>如果你误删了过多的内容。显然你可以再输入一遍，但是命令”u” 更简便，它可以撤消上一次的操作。</p>
<p>###5.重做<br>如果你撤消了多次，你还可以用CTRL-R(重做)来反转撤消的动作。换句话说，它是对撤消的撤消。撤消命令还有另一种形式，”U”命令，它一次撤消对一行的全部操作。第二次使用该命令则会撤消前一个”U”的操作。用”u”和CTRL-R你可以找回任何一个操作状态。</p>
<p>###6.追加<br>“i”命令可以在当前光标之前插入文本。<br>“a”命令可以在当前光标之后插入文本。<br>“o”命令可以在当前行的下面另起一行，并使当前模式转为Insert模式。<br>“O”命令(注意是大写的字母O)将在当前行的上面另起一行。</p>
<p>###7.使用命令计数<br>假设你要向上移动9行。这可以用”kkkkkkkkk”或”9k”来完成。删除3个字符可以用”3x”。</p>
<p>###8.退出<br>要退出Vim，用命令”ZZ”。该命令保存当前文件并退出Vim。</p>
<p>###9.放弃编辑<br>丢弃所有的修改并退出，用命令”:q!”。用”:e!”命令放弃所有修改并重新载入该文件的原始内容。</p>
<p>###10.以Word为单位的移动<br>使用”w”命令可以将光标向前移动一个word的首字符上；比如”3w”将光标向前移动3个words。”b”命令则将光标向后移动到前一个word的首字符上。<br>“e”命令会将光标移动到下一个word的最后一个字符。命令”ge”，它将光标移动到前一个word的最后一个字符上。</p>
<p>###11.移动到行首或行尾<br>“\$”命令将光标移动到当前行行尾。”^”命令将光标移动到当前行的第一个非空白字符上。”0”命令则总是把光标移动到当前行的第一个字符上。”\$”命令还可接受一个计数，如”1\$”会将光标移动到当前行行尾，”2\$”则会移动到下一行的行尾，如此类推。”0”命令却不能接受类似这样的计数，命令”^”前加上一个计数也没有任何效果。</p>
<p>###12.移动到指定字符上<br>命令”fx”在当前行上查找下一个字符x（向右方向），可以带一个命令计数”F”命令向左方向搜索。”tx”命令形同”fx”命令，只不过它不是把光标停留在被搜索字符上，而是在它之前的一个字符上。提示：”t”意为”To”。该命令的反方向版是”Tx”。这4个命令都可以用”;”来重复。以”,”也是重复同样的命令，但是方向与原命令的方向相反。</p>
<p>###13.以匹配一个括号为目的移动<br>用命令”%”跳转到与当前光标下的括号相匹配的那一个括号上去。如果当前光标在”(“上，它就向前跳转到与它匹配的”)”上，如果当前在”)”上，它就向后自动跳转到匹配的”(“上去。</p>
<p>###工作上常用到的<br>查找  / </p>
<p>最后一行 shift +g      《》 G</p>
<p>第一行    gg</p>
<p>跳转到 第 n行     ngg</p>
<p>  %s/\r//g       去掉 ^m</p>
<p>%s/\t/\            替换空格 </p>
<p> dd：剪切当前行</p>
<p> 4 ndd：n表示大于1的数字，剪切n行</p>
<p>yy：复制当前行</p>
<p>nyy：n表示大于1的数字，复制n行</p>
<p>P 粘贴</p>
<p>ctrl z  退出到终端            fg 1、2、3 跳转vim打开的文件（打开多个文件时）</p>
<p>$ npm -g install js-beautify</p>
<p>$ js-beautify foo.js</p>
<p>:%s/\r//g                   : 删除DOS方式的回车^M</p>
<p>:%s=  *$==                  : 删除行尾空白</p>
<p>:%s/ *$// 去掉行尾的所有空格。</p>
<p>:%s/\t/    /g     tab替换成空格。批量替换</p>
<p>vimgrep /pattern/ %           在当前打开文件中查找</p>
<p>vimgrep /pattern/ *             在当前目录下查找所有</p>
<p>vimgrep /pattern/ **            在当前目录及子目录下查找所有</p>
<p>vimgrep /pattern/ *.c          查找当前目录下所有.c文件</p>
<p>vimgrep /pattern/ <em>*/</em>         只查找子目录</p>
<p>brew install vim –with-lua –with-override-system-vim   vim 升级</p>
<p>批量注释</p>
<p>ctrl+v 进入列编辑模式,向下或向上移动光标,把需要注释的行的开头标记起来,然后按大写的I(shift+i),再插入注释符,比如”//“,再按Esc,就会全部注释了</p>
<p>ctrl+v     选择    shiit+i    //    esc</p>
<p>批量去掉注释</p>
<p>ctrl+v,进入列编辑模式,横向选中列的个数(如”//“注释符号,需要选中两列),然后按d, 就会删除注释符号</p>
<p>删除列</p>
<p>1.光标定位到要操作的地方。</p>
<p>2.CTRL+v 进入“可视 块”模式，选取这一列操作多少行。</p>
<p>3.d 删除。</p>
<p>插入列</p>
<p>插入操作的话知识稍有区别。例如我们在每一行前都插入”() “：</p>
<p>1.光标定位到要操作的地方。</p>
<p>2.CTRL+v 进入“可视 块”模式，选取这一列操作多少行。</p>
<p>3.SHIFT+i(I) 输入要插入的内容。</p>
<p>4.ESC 按两次，会在每行的选定的区域出现插入的内容。</p>
<p>###快捷命令</p>
<p>x 删除当前光标下的字符(“dl”的快捷命令)<br>X 删除当前光标之前的字符(“dh”的快捷命令)<br>D 删除自当前光标至行尾的内容(“d$”的快捷命令)<br>dw 删除自当前光标至下一个word的开头<br>db 删除自当前光标至前一个word的开始<br>diw 删除当前光标所在的word(不包括空白字符)<br>daw 删除当前光标所在的word(包括空白字符)<br>dG 删除当前行至文件尾的内容<br>dgg 删除当前行至文件头的内容<br>如果你用”c”命令代替”d”这些命令就都变成更改命令。使用”y”就是yank命令，如此类推。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/10/24/git/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zongyi Yin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/blog_photo.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="我的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/10/24/git/" itemprop="url">git常用命令总结</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-10-24T20:00:55+08:00">
                2017-10-24
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>git clone xxx  下载到本地</p>
<p>git remote -v 查看远程仓库地址</p>
<p>git checkout xx分支（切换分支）</p>
<p>git log </p>
<p>git log  -oneline</p>
<p>git status </p>
<p>git add    git add *</p>
<p>$ git commit -m “hello world”  提交</p>
<p> git commit -a -m ‘’  保存并提交</p>
<p>git checkout – softgames_game.js    可以丢弃工作区的修改：</p>
<p>git branch 查看分支</p>
<p>git pull 获取远程分支。。。。。。。。。。</p>
<p>git branch -r 查看远程分支</p>
<p>git branch test   创建分支</p>
<p>git branch test  切换分支</p>
<p>git  pull  origin  <branch></branch></p>
<p>git push origin <branch></branch></p>
<p>git reset –hard FETCH_HEAD 撤销到最近</p>
<p>###工作上常用到的<br>git checkout dev<br>git pull<br>git checkout -b 170724_queqiao_v1_dev dev<br><em>//分支形式:170724_queqiao_v1_dev</em><br>git status<br>git commit -am f<br>git push origin 170724_queqiao_v1_dev<br>arc diff<br>git pull origin 170724_queqiao_v1_dev<br>git push origin 170724_queqiao_v1_dev</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/08/04/array/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zongyi Yin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/blog_photo.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="我的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/08/04/array/" itemprop="url">数组一些常用方法</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-08-04T20:58:55+08:00">
                2017-08-04
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>####数组一些常用方法（es5新增）</p>
<ul>
<li>forEach() 遍历数组，并为每个元素调用传入的函数<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">var a = [1,2,3];</div><div class="line">var sum = 0;</div><div class="line">//传一个参数</div><div class="line">a.forEach(function(v)&#123;</div><div class="line">	sum += v;</div><div class="line">&#125;);</div><div class="line">console.log(sum);//6</div><div class="line">//传三个参数(元素值,索引,数组本身)</div><div class="line">a.forEach(function(v,i,a)&#123;</div><div class="line">	a[i]=v+1;//为数组的各元素自加1</div><div class="line">	console.log(i); //0 1 2</div><div class="line">	console.log(v); //1 2 3</div><div class="line">&#125;)	</div><div class="line">console.log(a);//[2,3,4]</div></pre></td></tr></table></figure>
</li>
</ul>
<p>&emsp;&emsp;显而易见，forEach方法中的function回调支持3个参数，第1个是遍历的数组内容；第2个是对应的数组索引，第3个是数组本身。</p>
<ul>
<li><p>map() 将调用该函数的数组的每个元素都传入指定函数，并返回运算后的新数组；注意：该函数不修改原数组。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">var a = [1,2,3];</div><div class="line">var b = a.map(function(x)&#123;</div><div class="line">  return x*x;</div><div class="line">&#125;)</div><div class="line">console.log(b);//[1,4,9]</div></pre></td></tr></table></figure>
</li>
<li><p>filter() 将调用该函数的数组的每个元素传入指定函数进行判定,若判定为true,则返回.最终返回一个符合指定条件(函数)的元素的集合(该集合为原数组的子集)。注:该函数会跳过稀疏数组中缺少的元素,总是返回稠密数组,利用此特性可以压缩稀疏数组.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">var a = [1,2,3];</div><div class="line">    var c = a.filter(function(x)&#123;</div><div class="line">	    return x&lt;3;</div><div class="line">    &#125;)</div><div class="line">console.log(c);//[1, 2]</div></pre></td></tr></table></figure>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">var a = [ ,1,null,3,4, ,];</div><div class="line">console.log(a.length);//6</div><div class="line">var dense = a.filter(function()&#123;</div><div class="line">    return true;//过滤掉undefined</div><div class="line">&#125;);</div><div class="line">console.log(dense);//[1,null,3,4]</div><div class="line">console.log(a);//Array(6) [undefined × 1, 1, null, 3, 4, undefined × 1]未改变原有数组</div><div class="line">var c = a.filter(function(x)&#123;</div><div class="line">	return x!=undefined &amp;&amp; x != null;</div><div class="line">&#125;);</div><div class="line">console.log(c);//Array(3) [1, 3, 4]</div></pre></td></tr></table></figure>
<ul>
<li>every() 遍历调用该方法数组的每个元素,判定是否符合指定条件(函数),全部符合则返回true;注意空数组调用时返回true;</li>
<li>some() 遍历调用该方法数组的每个元素,判定是否符合指定条件(函数),只要有一个符合则返回true;注意空数组调用时返回false;<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">var a = [1,2,3,4,5];</div><div class="line">var b = a.every(function(x)&#123;</div><div class="line">	return x &gt;0;//判定是否所有元素均大于0</div><div class="line">&#125;);</div><div class="line">console.log(b);//true</div><div class="line">var c = a.some(function(x)&#123;</div><div class="line">	return x &lt; 4; //判定是否有元素小于4</div><div class="line">&#125;);</div><div class="line">console.log(c);//true</div></pre></td></tr></table></figure>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">//空数组调用</div><div class="line">var d = [];</div><div class="line">console.log(d.every(function(x)&#123;</div><div class="line">	return x;</div><div class="line">&#125;));//true</div><div class="line">console.log(d.some(function(x)&#123;</div><div class="line">	return x;</div><div class="line">&#125;));//false</div></pre></td></tr></table></figure>
<ul>
<li>reduce()和reduceRight()</li>
</ul>
<p>语法<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">array.reduce(callbackfn,[initialValue])</div></pre></td></tr></table></figure></p>
<p>reduce()方法接收callbackfn函数，而这个函数包含四个参数：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">function callbackfn(preValue,curValue,index,array)&#123;&#125;</div></pre></td></tr></table></figure></p>
<ol>
<li>preVallue：上一次调用回调返回的值，或者是提供的初始的初始值（initialValue）</li>
<li>curValue：数组中当前被处理的数组项</li>
<li>index：当前数组项在数组中的索引值</li>
<li>array：调用reduce()方法的数组</li>
</ol>
<p>而initialValue作为第一次调用 callbackfn函数的第一个参数。</p>
<p>reduce()方法为数组中的每一个元素依次执行回调函数callbackfn，不包括数组中被删除或从未被赋值的元素，接受四个参数：初始值（或者上一次回调函数的返回值），当前元素值，当前索引，调用 reduce() 的数组。</p>
<p>回调函数第一次执行时，preValue 和 curValue 可以是一个值，如果 initialValue 在调用 reduce() 时被提供，那么第一个 preValue 等于 initialValue ，并且curValue 等于数组中的第一个值；如果initialValue 未被提供，那么preValue 等于数组中的第一个值，curValue等于数组中的第二个值。</p>
<p>示例：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">var arr = [0,1,2,3,4]; </div><div class="line">arr.reduce(function (preValue,curValue,index,array) &#123; </div><div class="line">	return preValue + curValue;</div><div class="line">&#125;); //10</div></pre></td></tr></table></figure></p>
<p>第一次回调: 0  1  1  [0,1,2,3,4]   返回值1<br>第二次回调: 1  2  2  [0,1,2,3,4]   返回值3<br>第三次回调: 3  3  3  [0,1,2,3,4]   返回值6<br>第四次回调: 6  4  4  [0,1,2,3,4]   返回值10</p>
<p>提供一个初始值<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">var arr = [0,1,2,3,4]; </div><div class="line">arr.reduce(function (preValue,curValue,index,array) &#123; </div><div class="line">	return preValue + curValue; </div><div class="line">&#125;, 5); //15</div></pre></td></tr></table></figure></p>
<p>第一次回调: 5    0    0  [0,1,2,3,4]   返回值5<br>第二次回调: 5    1    1  [0,1,2,3,4]   返回值6<br>第三次回调: 6    2    2  [0,1,2,3,4]   返回值8<br>第四次回调: 8    3    3  [0,1,2,3,4]   返回值11<br>第四次回调: 11   4    4  [0,1,2,3,4]   返回值15</p>
<p>实现数组的求和<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">var arr = [1,2,3,4,5,6]; </div><div class="line">Array.prototype.sum = function ()&#123; </div><div class="line">	var sumResult = 0;</div><div class="line">	return this.reduce(function (preValue, curValue) &#123; </div><div class="line">		return sumResult = preValue + curValue; </div><div class="line">	&#125;); </div><div class="line">	return sumResult; </div><div class="line">&#125; </div><div class="line">arr.sum(); // 21</div></pre></td></tr></table></figure></p>
<p>reduceRight()方法的功能和reduce()功能是一样的，不同的是reduceRight()从数组的末尾向前将数组中的数组项做累加。</p>
<ul>
<li>indexOf()和lastIndexOf()</li>
</ul>
<p>返回给定索引值的元素,lastIndexOf()从右往左搜索;若没有找到,则返回-1;<br>注意:该函数可接收两个参数,第一个参数为需要搜索的索引;第二个为开始搜索的位置(可选)；两个参数都不为函数。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/07/14/regExp/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zongyi Yin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/blog_photo.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="我的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/07/14/regExp/" itemprop="url">正则表达式</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-07-14T20:58:55+08:00">
                2017-07-14
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="正则表达式"><a href="#正则表达式" class="headerlink" title="正则表达式"></a>正则表达式</h2><p><strong>正则表达式</strong>是一种在字符串数据里表示模式的语言。它们组成了一种小型且独立的语言，镶入在JavaScript里。这种语言非常的简洁，尽管其可读性不是很强—大型正则表达式往往就像卡通人物的咒语一样。总之，它们是一种很强大的工具，能够真正简化字符串处理程序。</p>
<h4 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h4><p>&emsp;&emsp;与将字符串写在引号里的方式相同，正则表达式写在斜杠（/）之间。字符串的search方法与indexOf类似，indexOf返回找到参数的位置，但search的参数是一个正则表达式而非字符串：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&quot;zhengzebiaodashi&quot;.search(/biao/);  </div><div class="line">=&gt;  7</div></pre></td></tr></table></figure></p>
<p>&emsp;&emsp;由于斜杠通常表明了正则表达式的结束，表达式里的斜杠则必须通过反斜杠进行转义。例如，我们定义一个正则表达式，它只包含一个斜杠：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">var reg = /\//;</div><div class="line">&quot;ab/cd&quot;.search(reg);</div><div class="line">=&gt; 2</div></pre></td></tr></table></figure></p>
<p>&emsp;&emsp;正则表达式指定的模式可以完成一些字符串不能完成的工作。例如，它们允许一些元素匹配多个单字符串。</p>
<p>###匹配字符集<br>&emsp;&emsp;我们需要在一段字符串里查找第一个星号或者左大括号。可以用正则表达式来完成这项工作，如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">var reg1 = /[\&#123;\*]/;</div><div class="line">var story = &quot;Adversity *successfully* overcome is the highest glory.&quot;;</div><div class="line">story.search(reg1);</div><div class="line">=&gt; 10</div></pre></td></tr></table></figure></p>
<p>&emsp;&emsp;在正则表达式里，中括号“[“和“]”有着特殊的意义。它包含一个字符列表，只是其中一个字符被找到即可被匹配上。大多数标点符号在正则表达式中都有特殊的意义，因此，如果要用它们来表示实际字符的话，最好用反斜杠对齐转义。<br>&emsp;&emsp;有些字符在正则表达式里指的是整个字符集。点（.）用来表示“任何不是换行符的字符”；转义d（/d）表示“任意数字”；转义w（/w）匹配任何单词（也就是任何英文、数字和下划线构成的字符）。转义s（/s）匹配任何空字符（例如Tab、换行和空格）。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">var reg2 = /\s\d\s/;</div><div class="line">&quot;1a 2 3b&quot;.search(reg2);</div><div class="line">=&gt; 2</div></pre></td></tr></table></figure></p>
<p>&emsp;&emsp;可以用大写字符替换相应的\d、\w、和\s来反转正则表达式的意义。例如，\S匹配任何不是空字符串的字符，\W匹配任何非单词字符。等价于“[^A-Za-z0-9_]”，\D匹配一个非数字字符。等价于[^0-9]。使用中括号[和]时，反转模式可以以^字符开始：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">var notABCReg = /[^ABC]/;</div><div class="line">&quot;ABCBACCBBADABC&quot;.search(notABC);</div><div class="line">=&gt; 10</div></pre></td></tr></table></figure></p>
<p>&emsp;&emsp;根据我们现在所知道的，可以编写一个匹配XX/XX/XXXX格式日期的正则表达式（这里的X是数字）。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">var dataReg = /\d\d\/\d\d\/\d\d\d\d/;</div><div class="line">&quot;born 15/11/2003 (mother Spot): white Fang&quot;.search(dataReg);</div><div class="line">=&gt; 5</div></pre></td></tr></table></figure></p>
<h4 id="匹配单词和字符边界"><a href="#匹配单词和字符边界" class="headerlink" title="匹配单词和字符边界"></a>匹配单词和字符边界</h4><p>&emsp;&emsp;有时需要确定一个模拟以待定字符开始或者以待定字符结束。可以使用特殊字符^和\$来完成，^ 字符匹配字符的开头，而 \$字符匹配字符的结尾：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">/a/.test(&quot;cat&quot;);</div><div class="line">=&gt; true</div><div class="line">/^a$/.test(&quot;cat&quot;);</div><div class="line">=&gt; flase</div><div class="line">/^a$/.test(&quot;about&quot;);</div><div class="line">=&gt; false</div><div class="line">/^a/.test(&quot;about&quot;);</div><div class="line">=&gt; true</div></pre></td></tr></table></figure></p>
<p>&emsp;&emsp;第一个正则表达式匹配任何包含字符a的字符串，而第二个只能匹配字符串“a”，第三个匹配以字符a开始的字符串。需要注意，正则表达是对象，并且拥有方法。它的test方法返回布尔值，表示给定的字符串是否匹配表达式。<br>&emsp;&emsp;转义字符\b可以匹配“单词边界”———它可以是标点符号、空格、字符的开头或结尾：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">/cat/.test(&quot;concatenate&quot;);</div><div class="line">=&gt; true</div><div class="line">/\bcat\b/.test(&quot;concatenate&quot;);</div><div class="line">=&gt; false</div></pre></td></tr></table></figure></p>
<h4 id="重复模式"><a href="#重复模式" class="headerlink" title="重复模式"></a>重复模式</h4><p>&emsp;&emsp;在正则表达式里，重复表示子模式也是可以的。在元素后面跟一个星号（*）表示可以重复匹配任意次数（包括零次）；元素后面跟一个加号（+）要求至少匹配一次；元素后面跟一个问号（?）表示该元素可选（它可能出现零次或一次）。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">var reg3 = /\(.*\)/;</div><div class="line">&quot;A book (that) remains shut is but a block.&quot;.search(reg3);</div><div class="line">=&gt; 7</div></pre></td></tr></table></figure></p>
<p>&emsp;&emsp;在必要的时候，可以使用花括号来指定一个元素可能发生的次数。花括号里只有一个数字（例如{4}）确定了元素必须出现的次数。花括号之间有两个数字，并且两个数字中间有逗号（{3,10}）时，表示元素至少要出现第一个数字的次数至少（这里是3次），而且最多只能出现第二个数字的次数（这里是10次）；类似地，{2, }表示要出现两次或两次以上，而{ , 4}则表示出现的次数要小于4次。<br>&emsp;&emsp;下面是一个更灵活的匹配日期的模式：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">var dataReg = /\d&#123;1,2&#125;\/\d\d?\/\d&#123;4&#125;/;</div><div class="line">&quot;born 15/11/2003 (mother Spot): white Fang&quot;.search(dataReg);</div><div class="line">=&gt; 5</div><div class="line">表达式/\d&#123;1,2&#125;/和/\d\d?/是同一件事情的两种表示方法：“一个或两个数字”。</div></pre></td></tr></table></figure></p>
<h4 id="子表达式分组"><a href="#子表达式分组" class="headerlink" title="子表达式分组"></a>子表达式分组</h4><p>&emsp;&emsp;通常需要在同一个表达式里，对多个字符使用像*或+这样的特殊字符。可以使用小括号对表达式的一部分进行分组，然后用整个分组进行匹配。例如：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">var reg4 = /boo(abc+)+/i;</div><div class="line">reg4.test(&quot;booabcabcbooabc&quot;);</div><div class="line">=&gt; true</div></pre></td></tr></table></figure></p>
<p>&emsp;&emsp;模式abc+允许ab加一个或多个c字符。(abc+)+则允许该模式整体被重复一次或多次。<br>&emsp;&emsp;需要注意正则表达式结尾的i字符。在关闭斜后面，可以添加可选项。这里的表示该表达式不区分大小写，允许小写字母b匹配字符串里的大写字符B。还有个“全局”的g。</p>
<h4 id="多选一"><a href="#多选一" class="headerlink" title="多选一"></a>多选一</h4><p>&emsp;&emsp;对于更高级的分支模式，可以使用竖线（|）表示允许模式在多个元素中选择一个。实力如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">var reg5 = /\b(sacred|holy) (cow|bovine|bull|taurus)\b/i;</div><div class="line">reg5.test(&quot;Sacred bovine!&quot;);</div><div class="line">=&gt; true</div><div class="line">var reg5 = /\b(sacred|holy)(cow|bovine|bull|taurus)\b/i;</div><div class="line">reg5.test(&quot;Sacred bovine!&quot;);</div><div class="line">=&gt; false</div></pre></td></tr></table></figure></p>
<p>&emsp;&emsp;该模式将匹配任何单词，包含后面跟着cow、bovine、bull或taurus四个单词中的任何一个字符的scared或holy。这里需要使用括号，否则只会在sacred、holycow、bovine等单词之间进行选择。</p>
<h3 id="匹配与替换"><a href="#匹配与替换" class="headerlink" title="匹配与替换"></a>匹配与替换</h3><h4 id="匹配方法"><a href="#匹配方法" class="headerlink" title="匹配方法"></a>匹配方法</h4><p>&emsp;&emsp;字符串有一个match方法，接收正则表达式作为参数。如果匹配失败就返回null；如果匹配成功则返回匹配的字符串组成的数组。通过下面的示例来了解这一实现过程：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">&quot;No&quot;.match(/yes/i);</div><div class="line">=&gt; null</div><div class="line">&quot;…yes&quot;.match(/yes/i);</div><div class="line">=&gt; [&quot;yes&quot;]</div><div class="line">&quot;Giant Ape&quot;.match(/giant (\w+)/i);</div><div class="line">=&gt; [&quot;Giant Ape&quot;,&quot;Ape&quot;]</div></pre></td></tr></table></figure></p>
<p>&emsp;&emsp;返回数组的第一个元素总是匹配整个模式的字符串。第三个示例说明，模式里有括号时，括号匹配的部分将添加到该数组。通常，这使提取字符串变得非常容易。</p>
<h4 id="正则表达式和替换方法"><a href="#正则表达式和替换方法" class="headerlink" title="正则表达式和替换方法"></a>正则表达式和替换方法</h4><p>&emsp;&emsp;字符串值的replace方法可以接收一个正则表达式作为第一个参数：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&quot;Borobudur&quot;.replace(/[ou]/g,&quot;a&quot;);</div><div class="line">=&gt; Barabadar</div></pre></td></tr></table></figure></p>
<p>&emsp;&emsp;请注意，正则表达式后面的字符g代表“全局”，这意味着匹配该模式的字符的每个部分都应该被替换掉。当省略g时，只有第一个字符o被替换，这是一种常见的错误。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/blog_photo.jpg"
                alt="zongyi Yin" />
            
              <p class="site-author-name" itemprop="name">zongyi Yin</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">12</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            

            

          </nav>

          

          <div class="links-of-author motion-element">
            
          </div>

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
    <iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=450 src="//music.163.com/outchain/player?type=0&id=2007634478&auto=1&height=430"></iframe>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">zongyi Yin</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.3</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  


  











  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  

  
  
    <script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.3"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.3"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.3"></script>



  


  




	





  





  









<script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
<script src="//unpkg.com/valine/dist/Valine.min.js"></script>



  





  

  

  

  
  

  

  

  

</body>
</html>
